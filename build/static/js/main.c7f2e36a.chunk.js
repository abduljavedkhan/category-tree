(this["webpackJsonpcategory-tree-react-redux"]=this["webpackJsonpcategory-tree-react-redux"]||[]).push([[0],{22:function(e,t,r){},24:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"CREATE_NODE",(function(){return u})),r.d(n,"DELETE_NODE",(function(){return b})),r.d(n,"ADD_CHILD",(function(){return j})),r.d(n,"REMOVE_CHILD",(function(){return h})),r.d(n,"UPDATE_CHILD",(function(){return x})),r.d(n,"createNode",(function(){return m})),r.d(n,"deleteNode",(function(){return O})),r.d(n,"addChild",(function(){return g})),r.d(n,"removeChild",(function(){return y})),r.d(n,"updateChild",(function(){return p}));var c=r(0),d=r(7),o=r(13),l=r(3),i=(r(22),r(4)),a=r(2),s=r(6),u="CREATE_NODE",b="DELETE_NODE",j="ADD_CHILD",h="REMOVE_CHILD",x="UPDATE_CHILD",f=0,m=function(e){return{type:u,nodeId:"new_".concat(f++),name:e}},O=function(e){return{type:b,nodeId:e}},g=function(e,t){return{type:j,nodeId:e,childId:t}},y=function(e,t){return{type:h,nodeId:e,childId:t}},p=function(e,t,r,n){return{type:x,nodeId:e,childId:t,newCategory:r,childIds:n}},v=function(e,t){switch(t.type){case j:return[].concat(Object(s.a)(e),[t.childId]);case h:return e.filter((function(e){return e!==t.childId}));case x:var r;if(console.log("s "+JSON.stringify(e)+"  "+t.childId+"   "+t.newCategory),e.find((function(e){return e===t.childId})))return console.log("hrer "+e.childIds[t.childId]),r=Object(a.a)(Object(a.a)({},e[t.childId]),{},{name:t.newCategory}),Object(a.a)(Object(a.a)({},e),{},Object(i.a)({},t.childId,r));break;default:return e}},w=function(e,t){switch(t.type){case u:return{id:t.nodeId,name:"".concat(t.name),childIds:[]};case j:case h:case x:return Object(a.a)(Object(a.a)({},e),{},{childIds:v(e.childIds,t)});default:return e}},I=function e(t,r){return t[r].childIds.reduce((function(r,n){return[].concat(Object(s.a)(r),[n],Object(s.a)(e(t,n)))}),[])},C=function(e,t){return e=Object(a.a)({},e),t.forEach((function(t){return delete e[t]})),e},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.nodeId;if("undefined"===typeof r)return e;if(t.type===b){var n=I(e,r);return C(e,[r].concat(Object(s.a)(n)))}return Object(a.a)(Object(a.a)({},e),{},Object(i.a)({},r,w(e[r],t)))},D=r(12),E=r(1);var k=Object(l.b)((function(e,t){return e[t.id]}),n)((function(e){var t,r=Object(c.useState)(!1),n=Object(D.a)(r,2),d=n[0],o=n[1],l=Object(c.useState)(null===(t=e.selected)||void 0===t||t),i=Object(D.a)(l,2),a=i[0],s=i[1],u=e.parentId,b=e.childIds,j=e.name,h=function(){s((function(e){return!e}))},x=b&&0!==b.length;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{children:[void 0!==u&&Object(E.jsxs)("div",{className:"flex m-1 p-2  border-green-400 border-b-2  justify-between",children:[Object(E.jsxs)("div",{onContextMenu:function(e){e.preventDefault(),("click"===e.type||"contextmenu"===e.type)&&o(!0)},className:"text-green-700 text-md font-bold",children:["".concat(j),Object(E.jsx)("span",{className:"text-yellow-700 mx-1 px-1",children:"(".concat(b&&b.length,")")})]}),x&&a?Object(E.jsx)("button",{onClick:h,className:"text-red-900 justify-center items-center  border-2 border-green-700  w-8 h-8 rounded-md bg-gray-400 my-1 mr-2",children:"-"}):Object(E.jsx)("button",{onClick:h,className:"text-red-900 justify-center items-center  border-2 border-green-700  w-8 h-8 rounded-md bg-gray-400  my-1 mr-2",children:"+"}),d?Object(E.jsxs)("div",{className:"flex justify-end ml-28 pl-64 ",children:[" ","undefined"!==typeof u&&Object(E.jsxs)("div",{className:"flex justify-center",children:[Object(E.jsx)("button",{onClick:function(t){t.preventDefault();var r=e.removeChild,n=e.deleteNode,c=e.parentId,d=e.id;r(c,d),n(d)},className:"mr-2 ring-yellow-500 cursor-pointer hover:text-red-900 hover:border-red-400 hover:bg-green-400 border-2 text-xs  p-2 text-yellow-400 bg-red-900 border-yellow-300 h-10",children:"Delete"}),Object(E.jsx)("button",{href:"#",onClick:function(){},className:"mr-2 ring-yellow-500 cursor-pointer hover:text-red-900 hover:border-red-400 hover:bg-green-400 border-2 text-xs  p-2 text-yellow-400 bg-red-900 border-yellow-300 h-10",children:"Edit"}),Object(E.jsx)("button",{className:"ring-yellow-500 cursor-pointer hover:text-red-900 hover:border-red-400 hover:bg-green-400 border-2 text-xs  p-2 text-yellow-400 bg-red-900 border-yellow-300 h-10 w-28",onClick:function(t){t.preventDefault();var r=prompt("Add Sub Category"),n=e.addChild,c=e.createNode,d=e.id;if(""===r)alert("Category can't be empty");else if(r){n(d,c(r).nodeId)}},children:"+ Sub Category"})]})]}):""]}),Object(E.jsx)("ul",{children:a&&b&&b.map((function(t){var r=e.id;return x?Object(E.jsx)("div",{className:" pl-4",children:Object(E.jsx)(k,{id:t,parentId:r})},t):null}))})]})})})),_=k,A=function(){return Object(E.jsxs)("div",{className:"text-center text-sm md:text-md bg-black text-blue-50",children:[Object(E.jsx)("span",{className:"text-xs",children:"Developed By"})," ",Object(E.jsx)("span",{className:"text-red-400",children:Object(E.jsx)("a",{href:"https://github.com/abduljavedkhan",target:"_blank",rel:"noreferrer",children:"Javed"})})]})};var L=Object(l.b)((function(e,t){return e[t.id]}),n)((function(e){var t=e.addChild,r=e.createNode;return Object(E.jsxs)("div",{className:"flex justify-center items-center",children:[Object(E.jsx)("button",{className:" m-2 ring-yellow-500 cursor-pointer hover:text-red-900 hover:border-red-400 hover:bg-green-400 border-2 text-sm  p-2 text-yellow-400 bg-red-900 border-yellow-300",onClick:function(e){e.preventDefault();var n=prompt("Add Category");if(""===n)alert("Category can't be empty");else if(n){var c=r(n).nodeId;t(0,c)}},children:"Add Catergory"}),Object(E.jsx)("button",{className:"  m-2 ring-yellow-500 cursor-pointer hover:text-red-900 hover:border-red-400 hover:bg-green-400 border-2 text-sm  p-2 text-yellow-400 bg-red-900 border-yellow-300",onClick:function(){},children:"Expand All"})]})})),T=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("header",{children:Object(E.jsxs)("div",{className:"flex justify-between p-4  bg-yellow-400 shadow-md border-b-4 border-green-300 h-20",children:[Object(E.jsx)("h1",{className:"font-bold text-xl md:text-3xl lg:3xl px-4 py-1 w-max text-red-900 flex-wrap-reverse",children:"Category Tree"}),Object(E.jsx)(L,{})]})})})},H=function(e){var t=e.children;return Object(E.jsxs)("div",{className:"min-h-screen flex flex-col justify-between bg-gray-100",children:[Object(E.jsx)(T,{}),t,Object(E.jsx)(A,{})]})},S=function(e){return Object(E.jsx)("div",{className:" w-10/12 md:w-5/6 m-5 max-h-full bg-gray-300 pt-8 pb-4 px-2 rounded-lg shadow-xl border-b-2 border-red-900 ring-red-900 items-center justify-center",children:e.children})},J=Object(o.a)(N,{0:{id:0,name:"root",childIds:[]}});Object(d.render)(Object(E.jsx)(l.a,{store:J,children:Object(E.jsx)(H,{children:Object(E.jsx)(S,{children:Object(E.jsx)(_,{id:0})})})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.c7f2e36a.chunk.js.map